<!DOCTYPE html>
<html>

<body>
    <script language="JavaScript">
        function caesar() {
            var num = parseInt(document.getElementById("shiftKey").value)
            var txt = document.getElementById("textArea").value;
            var x = [];
            if (num >= 0 && num <= 26) {
                for (i = 0; i < txt.length; i++) {
                    x[i] = txt.charCodeAt(i) + num;
                    if (txt.charCodeAt(i) >= 65 && txt.charCodeAt(i) <= 90) {
                        if (x[i] >= 65 && x[i] <= 90) {
                            x[i] = x[i];
                        } else if (x[i] > 90) {
                            x[i] = x[i] - 26;
                        } else if (x[i] < 65) {
                            x[i] = x[i] + 26;
                        }
                    }
                    if (txt.charCodeAt(i) == 32) {
                        x[i] = txt.charCodeAt(i);
                    }
                    if (txt.charCodeAt(i) >= 97 && txt.charCodeAt(i) <= 122) {

                        if (x[i] >= 97 && x[i] <= 122) {
                            x[i] = x[i];
                        } else if (x[i] > 122) {
                            x[i] = x[i] - 26;
                        } else if (x[i] < 97) {
                            x[i] = x[i] + 26;
                        }
                    }
                }
            } else {
                document.write("Number must be from 0 to 26, try again :)")
            }
            document.getElementById("result").value = String.fromCharCode.apply(null, x);
        }

        function decaesar() {
            var num = parseInt(document.getElementById("shiftKey").value) * -1
            var txt = document.getElementById("textArea").value;
            var x = [];
            if (num >= -26 && num <= 0) {
                for (i = 0; i < txt.length; i++) {
                    x[i] = txt.charCodeAt(i) + num;
                    if (txt.charCodeAt(i) >= 65 && txt.charCodeAt(i) <= 90) {
                        if (x[i] >= 65 && x[i] <= 90) {
                            x[i] = x[i];
                        } else if (x[i] > 90) {
                            x[i] = x[i] - 26;
                        } else if (x[i] < 65) {
                            x[i] = x[i] + 26;
                        }
                    }
                    if (txt.charCodeAt(i) == 32) {
                        x[i] = txt.charCodeAt(i);
                    }

                    if (txt.charCodeAt(i) >= 97 && txt.charCodeAt(i) <= 122) {

                        if (x[i] >= 97 && x[i] <= 122) {
                            x[i] = x[i];
                        } else if (x[i] > 122) {
                            x[i] = x[i] - 26;
                        } else if (x[i] < 97) {
                            x[i] = x[i] + 26;
                        }
                    }
                }
            } else {
                document.write("Number must be from 0 to 26, try again :)")
            }
            document.getElementById("result").value = String.fromCharCode.apply(null, x);
        }
    </script>
    <div>
        <h1>Caeser's cipher</h1>
    </div>
    <div>
        <textarea id="textArea" rows="6" cols="80"></textarea>
        <div>
            <label>Shift: </label>
            <input type="number" id="shiftKey" value=""/>
        </div>
        <textarea id="result" rows="6" cols="80"></textarea>
    </div>
        <button id="encode" onclick="caesar();">Encode</button>
        <button id="decode" onclick="decaesar();">Decode</button>
    </div>
</body>

</html>